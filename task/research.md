# Исследование и создание Telegram-бота на Python

## Введение
Telegram-бот — это автоматизированный аккаунт в мессенджере Telegram, который взаимодействует с пользователями через текстовые команды, сообщения или кнопки. Боты создаются с использованием Telegram Bot API и могут выполнять различные задачи: от простых ответов на команды до сложных интеграций с базами данных или внешними сервисами.

Цель проекта: создать Telegram-бота на Python, который будет отвечать на базовые команды и выполнять дополнительные функции (будут определены позже). Проект выполняется в рамках проектной практики и включает исследование, практическую реализацию и документацию.

## Исследование предметной области

### Что такое Telegram-бот?
- Telegram-бот — это программа, которая использует Telegram Bot API для взаимодействия с пользователями.
- Примеры использования: чат-боты, напоминания, новостные рассылки, игры.
- Боты создаются через @BotFather — официальный бот Telegram.

### Создание бота через BotFather
1. Найти @BotFather в Telegram.
2. Отправить команду `/start`.
3. Отправить `/newbot`, указать имя и username (например, @MyCoolBot).
4. Получить токен для доступа к API.
5. Сохранить токен в безопасном месте.

### Telegram Bot API
- HTTP-интерфейс для работы с ботами.
- Основные методы:  
  - `sendMessage` — отправка сообщений.  
  - `getUpdates` — получение новых сообщений (polling).  
  - `setWebhook` — настройка вебхуков.  
- Способы получения обновлений:  
  - **Polling**: бот запрашивает сервер Telegram о новых сообщениях.  
  - **Webhooks**: Telegram отправляет обновления на сервер бота.

### Выбор библиотеки
Для проекта выбрана библиотека `pyTelegramBotAPI` по следующим причинам:
- Простота использования для начинающих.
- Поддержка синхронного и асинхронного кода.
- Достаточная функциональность для базового бота.
Альтернатива — `python-telegram-bot` — более сложная, но подходит для продвинутых ботов с webhooks.

### План создания бота
1. Установить Python и библиотеку `pyTelegramBotAPI`.
2. Создать бота через @BotFather и получить токен.
3. Написать минимальный код бота для обработки команд `/start` и `/help`.
4. Протестировать бота локально.
5. Добавить дополнительные функции (например, ответы на текстовые сообщения, кнопки).
6. (Опционально) Настроить деплой на Heroku или другой платформе.
7. Задокументировать процесс и создать руководство.

## Следующие шаги
- Написать и протестировать минимальный код бота.
- Дополнить документацию пошаговыми инструкциями и примерами кода.
- Создать UML-диаграммы для визуализации работы бота.

## Расширение функционала: Бот для анкет с лайками

### Описание идеи
Бот будет работать как платформа для знакомств:  
- Пользователи создают анкеты (имя, возраст, описание, фото).  
- Другие пользователи просматривают анкеты и ставят "Лайк" или "Дизлайк".  
- При взаимном лайке пользователи получают уведомление и могут начать общение в ЛС.  

### Технические аспекты
Для реализации потребуется:  
- **Хранение данных**:  
  - Анкеты пользователей (ID, имя, описание, фото).  
  - Список лайков и дизлайков.  
  - Возможные варианты: JSON-файл для простоты или SQLite для более сложных запросов.  
- **Inline-кнопки**:  
  - Используются для отображения кнопок "Лайк" и "Дизлайк" под каждой анкетой.  
  - Обрабатываются через callback-запросы (`callback_query_handler`).  
- **Callback-запросы**:  
  - Telegram отправляет событие, когда пользователь нажимает кнопку.  
  - Бот обрабатывает событие и обновляет данные (например, добавляет лайк).  
- **Уведомления о взаимных лайках**:  
  - Если два пользователя лайкнули друг друга, бот отправляет уведомление с ссылкой на ЛС.  

### Исследование Telegram Bot API
- **Inline-кнопки**: Используются через `InlineKeyboardMarkup` и `InlineKeyboardButton`.  
- **Callback-запросы**: Обрабатываются с помощью `@bot.callback_query_handler`.  
- **Отправка фото**: Метод `sendPhoto` для отображения фото анкеты.  
- **Хранение данных**: Telegram позволяет временно хранить данные в `message.chat.id`, но для анкет нужна постоянная база.  

### План реализации
1. Добавить команду `/create_profile` для создания анкеты.  
2. Реализовать команду `/view_profiles` для просмотра анкет.  
3. Добавить inline-кнопки "Лайк" и "Дизлайк".  
4. Настроить хранение анкет и лайков (JSON или SQLite).  
5. Реализовать уведомления о взаимных лайках.  
6. (Опционально) Добавить фильтры или модерацию анкет.  

## Следующие шаги
- Настроить GitHub-репозиторий для хранения кода и документации.  
- Реализовать команду `/create_profile` и базовое хранение анкет.  
- Добавить inline-кнопки для лайков.  
- Нарисовать UML-диаграммы для визуализации процессов.
